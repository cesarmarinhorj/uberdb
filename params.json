{"name":"Uberdb","tagline":"A Lightweight Disk based JSON Database with a MongoDB like API for Node","body":"<h1><a href=\"http://badges.enytc.com/for/npm/uberdb\"><img src=\"https://badge-me.herokuapp.com/api/npm/uberdb.png\" alt=\"NPM version\"></a></h1>\r\n\r\n<p><a href=\"https://nodei.co/npm/uberdb/\"><img src=\"https://nodei.co/npm/uberdb.png?downloads=true&amp;stars=true\" alt=\"NPM\"></a></p>\r\n\r\n<p>A Lightweight Disk based JSON Database with a MongoDB like API for Node.</p>\r\n\r\n<h2><a name=\"contents\" class=\"anchor\" href=\"#contents\"><span class=\"octicon octicon-link\"></span></a>Contents</h2>\r\n\r\n<ul>\r\n<li><a href=\"#getting-started\">Getting Started</a></li>\r\n<li><a href=\"#documentation\">Documentation</a>\r\n<ul>\r\n<li><a href=\"#connect-to-db\">Connect</a></li>\r\n<li><a href=\"#load-collections\">Load Collections</a></li>\r\n<li><a href=\"#writesave-to-collection\">Write/Save</a></li>\r\n<li><a href=\"#read-from-collection\">Read</a></li>\r\n<li><a href=\"#update-collection\">Update</a></li>\r\n<li><a href=\"#remove-collection\">Remove</a></li>\r\n<li><a href=\"#count\">Count</a></li>\r\n</ul>\r\n</li>\r\n<li><a href=\"#examples\">Examples</a></li>\r\n</ul>\r\n\r\n<h2>\r\n<a name=\"getting-started\" class=\"anchor\" href=\"#getting-started\"><span class=\"octicon octicon-link\"></span></a>Getting Started</h2>\r\n\r\n<p>Install the module locally :  </p>\r\n\r\n<div class=\"highlight highlight-bash\"><pre><span class=\"nv\">$ </span>npm install uberdb\r\n</pre></div>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/path/to/db-folder'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'collection-name'</span><span class=\"p\">]);</span>\r\n<span class=\"c1\">// you can access the traditional JSON DB methods here</span>\r\n</pre></div>\r\n\r\n<h2><a name=\"documentation\" class=\"anchor\" href=\"#documentation\"><span class=\"octicon octicon-link\"></span></a>Documentation</h2>\r\n\r\n<h3><a name=\"connect-to-db\" class=\"anchor\" href=\"#connect-to-db\"><span class=\"octicon octicon-link\"></span></a>Connect to DB</h3>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">pathToFolder</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'filename'</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<p>Filename will be the name of the JSON file. You can omit the extension, uberDB will take care of it for you.</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"c1\">// or simply</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<p>This will check for a directory at given path, if it does not exits, uberDB will throw an error and exit. </p>\r\n\r\n<p>If the directory exists but the file/collection does not exist, uberDB will create it for you. </p>\r\n<p><strong>Note</strong> : If you have manually created an empty JSON file, please make sure that it contains at least an empty array.</p>\r\n\r\n<pre><code class=\"lang-js\">[]</code></pre>\r\n\r\n<p>Else it will throw an error like</p>\r\n<pre><code class=\"lang-bash\">undefined:<span class=\"hljs-number\">0</span>\r\n^\r\nSyntaxError: Unexpected end of input\r\n</code></pre>\r\n\r\n<h3><a name=\"load-collections\" class=\"anchor\" href=\"#load-collections\"><span class=\"octicon octicon-link\"></span></a>Load Collections</h3>\r\n\r\n<p>Alternatively you can also load collections like </p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"c1\">// this</span>\r\n<span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">loadCollections</span><span class=\"p\">([</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"c1\">//or</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">loadCollections</span><span class=\"p\">([</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"c1\">//or</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">)</span>\r\n  <span class=\"p\">.</span><span class=\"nx\">loadCollections</span><span class=\"p\">([</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"c1\">//or</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<h4>\r\n<a name=\"load-multiple-collections\" class=\"anchor\" href=\"#load-multiple-collections\"><span class=\"octicon octicon-link\"></span></a>Load Multiple Collections</h4>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">,</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span><span class=\"s1\">'users'</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<h3>\r\n<a name=\"writesave-to-collection\" class=\"anchor\" href=\"#writesave-to-collection\"><span class=\"octicon octicon-link\"></span></a>Write/Save to Collection</h3>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">collectioName</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">(</span><span class=\"nx\">object</span><span class=\"p\">);</span>\r\n</pre></div>\r\n\r\n<p>Once you have loaded a collection, you can access the collection's methods using the dot notation like</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.[</span><span class=\"nx\">collectionName</span><span class=\"p\">].[</span><span class=\"nx\">methodname</span><span class=\"p\">]</span>\r\n</pre></div>\r\n\r\n<p>To save the data, you can use</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"kd\">var</span> <span class=\"nx\">article</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s2\">\"uberDB rocks\"</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span> <span class=\"o\">:</span> <span class=\"s2\">\"today\"</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span>\r\n<span class=\"p\">}</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">(</span><span class=\"nx\">article</span><span class=\"p\">);</span>\r\n<span class=\"c1\">// or</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">([</span><span class=\"nx\">article</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<p>The saved data will be </p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"p\">[</span>\r\n    <span class=\"p\">{</span>\r\n        <span class=\"s2\">\"title\"</span><span class=\"o\">:</span> <span class=\"s2\">\"uberDB rocks\"</span><span class=\"p\">,</span>\r\n        <span class=\"s2\">\"published\"</span><span class=\"o\">:</span> <span class=\"s2\">\"today\"</span><span class=\"p\">,</span>\r\n        <span class=\"s2\">\"rating\"</span><span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span><span class=\"p\">,</span>\r\n        <span class=\"s2\">\"_id\"</span><span class=\"o\">:</span> <span class=\"s2\">\"0f6047c6c69149f0be0c8f5943be91be\"</span>\r\n    <span class=\"p\">}</span>\r\n<span class=\"p\">]</span>\r\n</pre></div>\r\n\r\n<p>You can also save multiple objects at once like</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"kd\">var</span> <span class=\"nx\">article1</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span> <span class=\"o\">:</span> <span class=\"s1\">'today'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s1\">'5 stars'</span>\r\n<span class=\"p\">}</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">article2</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span> <span class=\"o\">:</span> <span class=\"s1\">'yesterday'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s1\">'5 stars'</span>\r\n<span class=\"p\">}</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">article3</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span> <span class=\"o\">:</span> <span class=\"s1\">'today'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s1\">'4 stars'</span>\r\n<span class=\"p\">}</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">([</span><span class=\"nx\">article1</span><span class=\"p\">,</span> <span class=\"nx\">article2</span><span class=\"p\">,</span> <span class=\"nx\">article3</span><span class=\"p\">]);</span>\r\n</pre></div>\r\n\r\n<p>And this will return the inserted objects</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"p\">[</span> <span class=\"p\">{</span> <span class=\"nx\">title</span><span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span><span class=\"o\">:</span> <span class=\"s1\">'today'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"s1\">'4 stars'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">_id</span><span class=\"o\">:</span> <span class=\"s1\">'b1cdbb3525b84e8c822fc78896d0ca7b'</span> <span class=\"p\">},</span>\r\n  <span class=\"p\">{</span> <span class=\"nx\">title</span><span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span><span class=\"o\">:</span> <span class=\"s1\">'yesterday'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"s1\">'5 stars'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">_id</span><span class=\"o\">:</span> <span class=\"s1\">'42997c62e1714e9f9d88bf3b87901f3b'</span> <span class=\"p\">},</span>\r\n  <span class=\"p\">{</span> <span class=\"nx\">title</span><span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span><span class=\"o\">:</span> <span class=\"s1\">'today'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"s1\">'5 stars'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">_id</span><span class=\"o\">:</span> <span class=\"s1\">'4ca1c1597ddc4020bc41b4418e7a568e'</span> <span class=\"p\">}</span> <span class=\"p\">]</span>\r\n</pre></div>\r\n\r\n<h3>\r\n<a name=\"read-from-collection\" class=\"anchor\" href=\"#read-from-collection\"><span class=\"octicon octicon-link\"></span></a>Read from Collection</h3>\r\n\r\n<p>There are 2 methods available for reading the JSON collection</p>\r\n\r\n<ul>\r\n<li>db.collectioName.find(query)</li>\r\n<li>db.collectioName.findOne(query)</li>\r\n</ul><h4>\r\n<a name=\"dbcollectionamefind\" class=\"anchor\" href=\"#dbcollectionamefind\"><span class=\"octicon octicon-link\"></span></a>db.collectioName.find()</h4>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">();</span>\r\n</pre></div>\r\n\r\n<p>This will return all the records</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"p\">[{</span> \r\n    <span class=\"nx\">title</span><span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span><span class=\"o\">:</span> <span class=\"s1\">'today'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"s1\">'5 stars'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">_id</span><span class=\"o\">:</span> <span class=\"s1\">'0f6047c6c69149f0be0c8f5943be91be'</span> \r\n<span class=\"p\">}]</span>\r\n</pre></div>\r\n\r\n<p>You can also query with a criteria like</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">({</span><span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span><span class=\"p\">});</span>\r\n</pre></div>\r\n\r\n<p>This will return all the articles which have a rating of 5.</p>\r\n<p>Nested JSON : </p>\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">articleComments</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">title</span><span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">published</span><span class=\"o\">:</span> <span class=\"s1\">'2 days ago'</span><span class=\"p\">,</span>\r\n    <span class=\"nx\">comments</span><span class=\"o\">:</span> <span class=\"p\">[{</span>\r\n        <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s1\">'a user'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">comment</span><span class=\"o\">:</span> <span class=\"s1\">'this is cool'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"mi\">2</span>\r\n    <span class=\"p\">},</span> <span class=\"p\">{</span>\r\n        <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s1\">'b user'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">comment</span><span class=\"o\">:</span> <span class=\"s1\">'this is ratchet'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"mi\">3</span>\r\n    <span class=\"p\">},</span> <span class=\"p\">{</span>\r\n        <span class=\"nx\">name</span><span class=\"o\">:</span> <span class=\"s1\">'c user'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">comment</span><span class=\"o\">:</span> <span class=\"s1\">'this is awesome'</span><span class=\"p\">,</span>\r\n        <span class=\"nx\">rating</span><span class=\"o\">:</span> <span class=\"mi\">2</span>\r\n    <span class=\"p\">}]</span>\r\n<span class=\"p\">}</span>\r\n</pre></div>\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">savedArticle</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">([</span><span class=\"nx\">articleComments</span><span class=\"p\">);</span>\r\n<span class=\"nx\">foundArticles</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">({</span><span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"mi\">2</span><span class=\"p\">});</span>\r\n</pre></div>\r\n<p>Since uberDB is mostly for light weight data storage, avoid nested structures and huge datasets.</p>\r\n<h4>\r\n<a name=\"dbcollectionamefindonequery\" class=\"anchor\" href=\"#dbcollectionamefindonequery\"><span class=\"octicon octicon-link\"></span></a>db.collectioName.findOne(query)</h4>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">findOne</span><span class=\"p\">();</span>\r\n</pre></div>\r\n\r\n<p>If you do not pass a query, uberDB will return the first article in the collection. If you pass a query, it will return first article in the filtered data</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">findOne</span><span class=\"p\">({</span><span class=\"nx\">_id</span><span class=\"o\">:</span> <span class=\"s1\">'0f6047c6c69149f0be0c8f5943be91be'</span><span class=\"p\">});</span>\r\n</pre></div>\r\n\r\n<h3>\r\n<a name=\"update-collection\" class=\"anchor\" href=\"#update-collection\"><span class=\"octicon octicon-link\"></span></a>Update Collection</h3>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">collectioName</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">,</span> <span class=\"nx\">data</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\r\n</pre></div>\r\n\r\n<p>You can also update one or many objects in the collection</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">options</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n    <span class=\"nx\">multi</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"c1\">// update multiple - default false</span>\r\n    <span class=\"nx\">upsert</span><span class=\"o\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// if object is not found, add it (update-insert) - default false</span>\r\n<span class=\"p\">}</span>\r\n</pre></div>\r\n\r\n<p>Usage </p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">query</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n  <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks'</span>\r\n<span class=\"p\">};</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">dataToBeUpdate</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n  <span class=\"nx\">title</span> <span class=\"o\">:</span> <span class=\"s1\">'uberDB rocks again!'</span><span class=\"p\">,</span>\r\n<span class=\"p\">};</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">options</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\r\n   <span class=\"nx\">multi</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\r\n   <span class=\"nx\">upsert</span><span class=\"o\">:</span> <span class=\"kc\">false</span>\r\n<span class=\"p\">};</span>\r\n\r\n<span class=\"kd\">var</span> <span class=\"nx\">updated</span> <span class=\"o\">=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">update</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">,</span> <span class=\"nx\">dataToBeUpdate</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\r\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">updated</span><span class=\"p\">);</span> <span class=\"c1\">// { updated: 1, inserted: 0 }</span>\r\n</pre></div>\r\n\r\n<h3>\r\n<a name=\"remove-collection\" class=\"anchor\" href=\"#remove-collection\"><span class=\"octicon octicon-link\"></span></a>Remove Collection</h3>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">collectioName</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">(</span><span class=\"nx\">query</span><span class=\"p\">,</span> <span class=\"nx\">multi</span><span class=\"p\">);</span>\r\n</pre></div>\r\n\r\n<p>You can remove the entire collection (including the file) or you can remove the matched objects by passing in a query. When you pass a query, you can either delete all the matched objects or only the first one by passing <code>multi</code> as <code>false</code>. The default value of <code>multi</code> is <code>true</code>.</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({</span><span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span><span class=\"p\">});</span>\r\n</pre></div>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({</span><span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span><span class=\"p\">},</span> <span class=\"kc\">true</span><span class=\"p\">);</span> <span class=\"c1\">// remove all matched. Default - multi = true</span>\r\n</pre></div>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({</span><span class=\"nx\">rating</span> <span class=\"o\">:</span> <span class=\"s2\">\"5 stars\"</span><span class=\"p\">},</span> <span class=\"kc\">false</span><span class=\"p\">);</span> <span class=\"c1\">// remove only the first match</span>\r\n</pre></div>\r\n\r\n<p>Using remove without any params will delete the file and will remove the db instance.</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">();</span>\r\n</pre></div>\r\n\r\n<p>After the above operation <code>db.articles</code> is <code>undefined</code>.</p>\r\n\r\n<h3>\r\n<a name=\"count\" class=\"anchor\" href=\"#count\"><span class=\"octicon octicon-link\"></span></a>Count</h3>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">collectioName</span><span class=\"p\">.</span><span class=\"nx\">count</span><span class=\"p\">();</span>\r\n</pre></div>\r\n\r\n<p>Will return the count of objects in the Collection</p>\r\n\r\n<div class=\"highlight highlight-js\"><pre><span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'uberdb'</span><span class=\"p\">);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"s1\">'/examples/db'</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">'articles'</span><span class=\"p\">]);</span>\r\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">articles</span><span class=\"p\">.</span><span class=\"nx\">count</span><span class=\"p\">();</span> <span class=\"c1\">// will give the count</span>\r\n</pre></div>\r\n\r\n<h2>\r\n<a name=\"examples\" class=\"anchor\" href=\"#examples\"><span class=\"octicon octicon-link\"></span></a>Examples</h2>\r\n\r\n<p>Refer to the <a href=\"https://github.com/freekrai/uberdb/tree/master/examples\">examples</a> folder.</p>","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}